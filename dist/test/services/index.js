'use strict';var _https=require('https');var _https2=_interopRequireDefault(_https);var _mocha=require('mocha');var _chai=require('chai');var _index=require('../../services/index');var _index2=_interopRequireDefault(_index);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var instance=new _index2.default();var url=instance.sliceMsg('https://travis-ci.org/emberjs/ember.js');(0,_mocha.describe)('Functions should work properly',function(){// Testing 'sliceMsg' function
(0,_mocha.describe)('sliceMsg function should correctly slice string and return data',function(){(0,_mocha.it)('Returned url for https request',function(){(0,_chai.expect)(url.url).to.equal('https://api.travis-ci.org/repositories/emberjs/ember.js.json');});(0,_mocha.it)('Returned user name',function(){(0,_chai.expect)(url.id).to.equal('emberjs');});(0,_mocha.it)('Returned user repository',function(){(0,_chai.expect)(url.repository).to.equal('ember.js');});});// Testing 'req' function
(0,_mocha.describe)('testing https request function',function(){(0,_mocha.it)('should return json file without "file" field',function(done){try{instance.req(url.url,function(res){var matching=res.startsWith('Hi, your build at https://travis-ci.org/emberjs/ember.js');(0,_chai.expect)(matching).to.be.true;done();});}catch(err){done(err);}});});});